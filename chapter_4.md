Шаблоны
1. Каждому веб-фреймворку нужен удобный способ генерации HTML-файлов. В Джанго подход заключается в использовании шаблонов, чтобы отдельные файлы HTML могли обслуживать веб-страницу, указанный в URL.
Этот шаблон будет действителен для каждой веб-страницы Django.
Вопрос о том, где разместить каталог шаблонов?
По умолчанию Django ищет в каждом приложении шаблоны. В нашем приложение pp ожидает, что шаблон home.html будет расположен в следующем месте:
```bash
─ pp
	├── templates
		├── pp
			├── home.html
```
2. Это означает, что нам нужно будет создать новый каталог шаблонов, новый каталог с название приложения, страницы и, наконец, сам наш шаблон, который home.html.
Вопрос: почему эта повторяющаяся структура?
Загрузчик шаблонов Django хочет быть уверен, что он нашел правильный шаблон, и это как запрограммировано их искать.
К счастью, существует другой часто используемый подход к структурированию шаблонов в Django проектах. Вместо того, чтобы создать единый каталог шаблонов уровня проекта для всех приложений. Подход, который мы будем использовать. Сделав небольшую настройку для нашего файла settings.py мы можем сказать Django также искать в этой папке уровня проекта для шаблоны.
Сначала выйдите из нашего сервера. Затем создайте папку уровня проекта под названием templates и HTML-файл с именем home.html.
3.  Далее нам нужно обновить settings.py, чтобы Django посмотрел на уровне проекта шаблоны. Это однострочное изменение параметра 'DIRS' в разделе TEMPLATES.
```python
TEMPLATES = [
    {
        'DIRS': [os.path.join(BASE_DIR, 'templates')],
    },
]
```
Отредактируем home.html
```html
<!-- templates/home.html -->
<h1>Homepage</h1>
```
Хорошо, наш шаблон завершен! Следующим шагом является настройка вашего URL и просмотра.
4.  Class-Based Views
Django представдяет основанные на классе общие представления, которые упрощают использование, а также расширяют представления, охватывающие общие случаи использования.
Классы являются фундаментальной частью Python.
На мой взгляд, мы будем использовать встроенный TemplateView для отображения нашего шаблона. Обновите
файл pp/views.py.
```python
# pp/views.py
from django.views.generic import TemplateView
class HomePageView(TemplateView):
	template_name = 'home.html'
```
Обратите внимание, что мы расширили наше представление, поскольку теперь это класс Python. Классы, в отличие от функции, всегда должны быть заглавными. TemplateView уже содержит всю логику необходимую для отображения нашего шаблона, нам просто нужно указать имя шаблона.
Обновим pp/urls.py 
```python
# pp/urls.py
from django.urls import path
from .views import HomePageView
urlpatterns = [
		path('', HomePageView.as_view(), name='home')
]
```
При использовании представлений на основе классов вы всегда добавляете as_view () в конце имени представления
5.  Если вы запускаете веб-сервер с помощью `python manage.py runserver` и перейдите на http://127.0.0.1:8000/ вы можете увидеть нашу новую домашнюю страницу.
6.  Изменим pp/wiews.py
```python
# pp/views.py
from django.views.generic import ListView
from .models import Post
class HomePageView(ListView):
		model = Post
		template_name = 'home.html'
		context_object_name = 'list_of_books'
```
Изменим home.html  
```html
<!-- templates/home.html -->
<h1>books:</h1>
<ul>
{% for book in list_of_books %}
<li>{{ book }}</li>
{% endfor %}
</ul>
```
Если вы запускаете веб-сервер с помощью `python manage.py runserver` и перейдите на http://127.0.0.1:8000/ вы можете увидеть нашу новую домашнюю страницу.

![](http://i.imgur.com/KEy4KFe.png)

Добавив запись в базу данных и обновив страницу мы увидим.

![](http://i.imgur.com/dJjm6W5.png)
